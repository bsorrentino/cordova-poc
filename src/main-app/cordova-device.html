<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="cordova.html">

<!--
`cordova-accellerator`


@demo demo/index.html 
-->

<dom-module id="cordova-device">
  <style include="iron-flex iron-flex-alignment"></style>
  <template>
    <style>
      :host {
        display: block;

        --paper-card-content: {
            @apply(--layout-vertical);
            @apply(--layout-justified);
        }

        --paper-card: {
          width:100%;
          background-color: var(--paper-yellow-100);
        }

      }
      .row {
          @apply(--layout-horizontal);
          margin-bottom: 10px;
      }
      .wrap {
          @apply(--layout-wrap);
      }
      .row .uuid {
        @apply(--paper-font-common-base);
        @apply(--paper-font-common-nowrap);   
        margin-right:2px;
        font-size: 12px;
        font-weight: 400;
        line-height: 20px;
      }
      .row span {
          white-space: nowrap;
          margin-right:2px;
      }
      .flex {
          @apply(--layout-flex);
      }
      .value {
        color: var(--paper-pink-500);
      }
    </style>

      <paper-card elevation="2" heading="Device Info">
        <div class="card-content">  

            <div class="row wrap">
              <span class="col">UUID:</span>
              <span class="col uuid value">[[device.uuid]]</span>
            </div>

            <div class="row">
              <span class="flex">Platform:</span><span class="flex value">[[device.platform]]</span>
              <span class="flex">Version:</span><span class="flex value">[[device.version]]</span>            
            </div>
            <div class="row">
              <span class="flex">Model:</span><span class="flex value">[[device.model]]</span>
            </div>
            <div class="row wrap"> 
              <span>Screen:</span><span class="value">[[screen.width]] x [[screen.height]]</span> 
              <span>Color Depth:</span><span class="value">[[screen.colorDepth]]</span> 
            </div>
             
        </div>
      </paper-card>
  </template>

  <script>
    Polymer({

      is: 'cordova-device',

      properties: {

        device: {
          type: Object,
          value: { uuid:"XXXXXXXXX-XXXX-MXXX-NXXX-XXXXXXXXXXXX", platform:"Unknown", version:"0", model:"unknown" } 
        },
        screen: {
          type: Object,
          value: { width:0, height:0, colorDepth:0}
        },
      },
      ready: function() {
        console.log( "cordova-device", "ready" );

        var _self = this;

        document.addEventListener("deviceready", function() {
    
          console.log( "cordova is ready!" );

          try {
            _self.device = device;
            _self.screen = screen;
          }
          catch( e ) {
          }

        }, true);

      }
    });
  </script>
</dom-module>
