<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="cordova.html">

<!--
`cordova-network`


@demo demo/index.html 
-->

<dom-module id="cordova-network">
  <template>
    <style>
    </style>
      <div class="col s12">

      <div class="card z-depth-1 indigo lighten-5">
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4 " on-tap="reveal">Check Network<i class="material-icons right">more_vert</i></span>
            <p>Get Nework Info</p>

          </div>
          
        <div class="card-reveal  indigo darken-1">

            <span class="card-title white-text text-darken-1">Network<i class="material-icons right">close</i></span>    
          
            <table>
              <tbody>
                <tr>
                  <td class="yellow-text text-darken-1">Connection:<span class="white-text text-darken-1" style="margin-left:10px">[[status]]</span></td>
                </tr>
              </tbody>
          </table>  
              
        </div>
        
      </div> 
  </template>

  <script>
    Polymer({

      is: 'cordova-network',

      properties: {
        status: {
          type: String,
          value: 'Unknown connection',
        },
      },
      reveal( e ) {
        console.log( "reveal ", e );

        this.check_network();
      },
      check_network() {
        var networkState = navigator.network.connection.type;

        var states = {};
        states[Connection.UNKNOWN]  = 'Unknown connection';
        states[Connection.ETHERNET] = 'Ethernet connection';
        states[Connection.WIFI]     = 'WiFi connection';
        states[Connection.CELL_2G]  = 'Cell 2G connection';
        states[Connection.CELL_3G]  = 'Cell 3G connection';
        states[Connection.CELL_4G]  = 'Cell 4G connection';
        states[Connection.NONE]     = 'No network connection';

        this.status =  states[networkState];

        //confirm('Connection type:\n ' + states[networkState]);
      }
    });
  </script>
</dom-module>
